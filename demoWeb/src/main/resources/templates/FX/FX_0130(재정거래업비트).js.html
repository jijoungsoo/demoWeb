
<script>
	$(document).ready(function(){
		var FX_0130 = new PgmPageMngr('[[${uuid}]]');
		FX_0130.init(function(p_param) {
			var _this = FX_0130;
			var searchForm = new FormMngr(_this, "search_area");
			//value="BNBBTC"
			//searchForm.setData('SYMBOL','BNBBTC');
			const grid = new TuiGridMngr(_this,'grid',{
				  editable: false
				  ,showRowStatus: false
				  ,rowNum: true
				  ,checkbox: false
				  ,pageable: false
				  }
			,[
					{
					   header: 'MARKET',
					   name: 'MARKET',
					   width: 100,
					   align : 'left',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '화폐정보(CURRENCY)',
					   name: 'CURRENCY',
					   width: 100,
					   align : 'left',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: 'EN_NM',
					   name: 'EN_NM',
					   width: 100,
					   align : 'left',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: 'KR_NM',
					   name: 'KR_NM',
					   width: 100,
					   align : 'left',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '유의 종목 여부',
					   name: 'MARKET_WARNING',
					   width: 100,
					   align : 'left',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}					
					},{
					   header: '종목 구분 코드',
					   name: 'MARKET_CD',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '최근 거래 일자(UTC)',
					   name: 'TRADE_DATE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '최근 거래 시각(UTC)',
					   name: 'TRADE_TIME',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '최근 거래 일자(KST)',
					   name: 'TRADE_DATE_KST',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '최근 거래 시각(KST)',
					   name: 'TRADE_TIME_KST',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '시가',
					   name: 'OPENING_PRICE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '저가',
					   name: 'LOW_PRICE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '전일 종가',
					   name: 'PREV_CLOSING_PRICE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '종가',
					   name: 'TRADE_PRICE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '변화액의 절대값',
					   name: 'CHANGE_PRICE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '변화율의 절대값',
					   name: 'CHANGE_RATE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '부호가 있는 변화액',
					   name: 'SIGNED_CHANGE_PRICE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '부호가 있는 변화율',
					   name: 'SIGNED_CHANGE_RATE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '누적 거래대금(UTC 0시 기준)',
					   name: 'ACC_TRADE_PRICE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '누적 거래대금(UTC 0시 기준)',
					   name: 'ACC_TRADE_PRICE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '24시간 누적 거래대금',
					   name: 'ACC_TRADE_PRICE_24H',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '누적 거래량(UTC 0시 기준)',
					   name: 'ACC_TRADE_VOLUME',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '24시간 누적 거래량',
					   name: 'ACC_TRADE_VOLUME_24H',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '가장 최근 거래량',
					   name: 'TRADE_VOLUME',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '52주 신고가',
					   name: 'HIGHEST_52_WEEK_PRICE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '52주 신고가 달성일',
					   name: 'HIGHEST_52_WEEK_DATE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '52주 신저가',
					   name: 'LOWEST_52_WEEK_PRICE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '타임스탬프',
					   name: 'TIMESTAMP',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '52주 신저가 달성일',
					   name: 'LOWEST_52_WEEK_DATE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: 'EVEN : 보합 RISE : 상승 FALL : 하락',
					   name: 'CHANGE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '52주 신저가 달성일',
					   name: 'LOWEST_52_WEEK_DATE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '해당 화폐의 지갑 상태',
					   name: 'WALLET_STATE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '해당 화폐의 출금 수수료',
					   name: 'WITHDRAW_FEE',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '출금 최소 금액/수량',
					   name: 'WITHDRAW_MINIMUM',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					},{
					   header: '출금 지원 여부',
					   name: 'CAN_WITHDRAW',
					   width: 100,
					   align : 'right',
					   sortable : true,
					   resizable: true,
					   sortingType: 'desc',
					   filter : {
							type : 'text',
							showApplyBtn : true,
							showClearBtn : true
						}
					}
				]
			);
			grid.build();
		
			searchForm.addEvent("click","input[type=button]",function(el){
			//console.log(el);
				switch(el.target.name){
			case 'search':
				var data = searchForm.getData();
				console.log('data');
				console.log(data);
				var param ={
					 brRq : ''
					,brRs : 'OUT_RSET'
				}
			
				grid.loadData('BR_FX_retrieveUpbitList', param, function(data) {
					if (data) {
					}
				});
				
				break;
				}
			});
			searchForm.get("search").trigger("click");
	});	
});

</script>